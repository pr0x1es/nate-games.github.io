var x=Object.defineProperty;var v=(e,s,r)=>s in e?x(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r;var o=(e,s,r)=>(v(e,typeof s!="symbol"?s+"":s,r),r);import{t as y,r as u,e as d,u as j,j as t,L as w}from"./index-DeD0AQfW.js";import{g as k}from"./games-DoKFHAUb.js";import E from"./_...all_-DRW5-vC3.js";var b=':host{align-items:center;display:inline-flex;flex-shrink:0;height:var(--uib-stroke);justify-content:center;width:var(--uib-size)}:host([hidden]){display:none}.container{align-items:center;border-radius:calc(var(--uib-stroke)/2);display:flex;height:var(--uib-stroke);justify-content:center;overflow:hidden;position:relative;transform:translateZ(0);width:var(--uib-size)}.container:before{left:0;opacity:var(--uib-bg-opacity);position:absolute;top:0}.container:after,.container:before{background-color:var(--uib-color);content:"";height:100%;transition:background-color .3s ease;width:100%}.container:after{animation:wobble var(--uib-speed) ease-in-out infinite;border-radius:calc(var(--uib-stroke)/2);transform:translateX(-95%)}@keyframes wobble{0%,to{transform:translateX(-95%)}50%{transform:translateX(95%)}}';class p extends y{constructor(){super();o(this,"_attributes",["size","color","speed","stroke","bg-opacity"]);o(this,"size");o(this,"color");o(this,"speed");o(this,"stroke");o(this,"bg-opacity");this.storePropsToUpgrade(this._attributes),this.reflect(this._attributes)}static get observedAttributes(){return["size","color","speed","stroke","bg-opacity"]}connectedCallback(){this.upgradeStoredProps(),this.applyDefaultProps({size:80,color:"black",speed:1.75,stroke:5,"bg-opacity":.1}),this.template.innerHTML=`
      <div class="container"></div>
      <style>
        :host{
          --uib-size: ${this.size}px;
          --uib-color: ${this.color};
          --uib-speed: ${this.speed}s;
          --uib-stroke: ${this.stroke}px;
          --uib-bg-opacity: ${this["bg-opacity"]};
        }
        ${b}
      </style>
    `,this.shadow.replaceChildren(this.template.content.cloneNode(!0))}attributeChangedCallback(){const r=this.shadow.querySelector("style");r&&(r.innerHTML=`
      :host{
        --uib-size: ${this.size}px;
        --uib-color: ${this.color};
        --uib-speed: ${this.speed}s;
        --uib-stroke: ${this.stroke}px;
        --uib-bg-opacity: ${this["bg-opacity"]};
      }
      ${b}
    `)}}var N={register:(e="l-line-wobble")=>{customElements.get(e)||customElements.define(e,class extends p{})},element:p};const $=e=>{var{src:s,config:r,children:n}=e,l=function(a,h){var m={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&h.indexOf(i)<0&&(m[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var c=0;for(i=Object.getOwnPropertySymbols(a);c<i.length;c++)h.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(a,i[c])&&(m[i[c]]=a[i[c]])}return m}(e,["src","config","children"]);const f=Object.assign(Object.assign({},{}),r);return u.useEffect(()=>{const a=document.createElement("script");return a.src="https://unpkg.com/@ruffle-rs/ruffle",a.async=!0,a.onload=()=>{window.RufflePlayer=window.RufflePlayer||{},window.RufflePlayer.config=f},document.body.appendChild(a),()=>{document.body.removeChild(a)}},[]),d.createElement(d.Fragment,null,d.createElement("object",Object.assign({data:s},l),d.createElement("param",{name:"movie",value:s}),n||d.createElement("p",null,"Your browser does not support WASM,"," ",d.createElement("a",{href:"https://ruffle.rs/",rel:"noopener noreferrer"},"see Ruffle documentation")," ","for more information.")))},z=$;N.register();const g=({game:e,hidden:s})=>{const r=e.file.includes("{GAME_ID}")?e.file.replace("{GAME_ID}",e.id):e.file,n=(r.startsWith("/assets/games/")&&r.endsWith("/"),r);return t.jsx("div",{className:`${s?"hidden":"inline-block"}`,children:e.type=="embed"?t.jsx("iframe",{src:n,className:"w-full h-[calc(100%-2.75rem)] absolute top-0 left-0"}):t.jsx(z,{src:n,className:"h-[calc(100%-2.75rem)] w-full absolute left-0 top-0",config:{autoplay:"on",unmuteOverlay:"hidden",contextMenu:"off",preloader:!1,warnOnUnsupportedContent:!1}})})};function A(){const[e,s]=u.useState(null),r=u.useRef(null),{id:n}=j();return u.useEffect(()=>{const l=k.find(f=>f.id==n);s(l?{loaded:!1,started:!1,data:l}:null)},[n]),u.useEffect(()=>{e&&e.data&&e.data.sdk&&(window.onmessage=function(l){l.data=="ns_SDK: Loading Complete"&&s({...e,loaded:!0})})},[e]),t.jsx(t.Fragment,{children:e?t.jsx("main",{className:"flex justify-center items-center mt-24 pb-5",children:t.jsxs("div",{children:[t.jsxs("div",{ref:r,className:"w-auto h-[42rem] aspect-video overflow-hidden relative rounded-md mb-2",children:[e.started&&t.jsx(t.Fragment,{children:e.loaded&&!e.data.sdk?t.jsx(g,{game:e.data,hidden:!1}):t.jsx(t.Fragment,{children:e.data.sdk&&t.jsx(g,{game:e.data,hidden:!e.loaded})})}),!e.loaded&&t.jsxs(t.Fragment,{children:[t.jsx("img",{src:e.data.image.includes("{GAME_ID}")?e.data.image.replace("{GAME_ID}",e.data.id):e.data.image,className:"absolute object-cover h-full w-full blur-2xl scale-125 opacity-25"}),t.jsxs("div",{className:"absolute w-full h-full flex flex-col gap-5 justify-center items-center",children:[t.jsx("img",{src:e.data.image.includes("{GAME_ID}")?e.data.image.replace("{GAME_ID}",e.data.id):e.data.image,className:" rounded-3xl h-32"}),t.jsx("h3",{className:"text-xl font-urbanist",children:e.data.title}),e.started?t.jsx(t.Fragment,{children:!e.loaded&&t.jsx("l-line-wobble",{size:"150",stroke:"5","bg-opacity":"0.1",speed:"1.5",color:"white"})}):t.jsx("button",{className:"px-3.5 py-2 transition rounded-lg text-md text-sm bg-blue-500 hover:bg-blue-600 focus:ring-4",onClick:()=>{e.data.sdk?s({...e,started:!0}):s({...e,started:!0,loaded:!0})},children:"Play"})]})]}),t.jsxs("div",{className:"w-full h-[2.75rem] text-left flex items-center justify-start absolute bottom-0 left-0 bg-[#111] z-10 overflow-hidden",children:[t.jsx(w,{to:"/",children:t.jsxs("h3",{className:"text-sm text-white hover:text-blue-500 flex items-center gap-1 transition duration-200 ml-3 cursor-pointer hover:scale-105",children:["nate-games.github.io"," ",t.jsx("img",{src:"/favicon.ico",className:" h-6 aspect-square rounded-md align-baseline"})]})}),t.jsx("button",{onMouseDown:()=>{r.current&&(document.fullscreenElement?document.exitFullscreen():r.current.requestFullscreen())},className:"w-auto h-full transition-all absolute aspect-square outline-none group bottom-0 right-0 flex justify-center items-center hover:bg-[#222]",children:t.jsx("svg",{className:"h-6 transition fill-white group-hover:fill-blue-500",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"})})})]})]}),t.jsx("a",{href:`https://github.com/nate-games/nate-games.github.io/discussions/new?category=bug-report&title=${e.data.title} - id@${e.data.id}`,target:"_blank",children:t.jsx("button",{className:"cursor-pointer text-sm transition-all duration-75 bg-[#222] text-white px-4 py-2 rounded-md border-[#111] border-b-[6px] hover:bg-[#252525] hover:-translate-y-[1px] hover:border-b-[6px] active:border-b-[0px] active:translate-y-[2px]",children:"Report a bug"})})]})}):t.jsx(E,{})})}export{A as default};
